# Antigravity + Gemini 3 Pro AI駆動型システム開発オーケストレーション構築指示書

## 📋 プロジェクト概要

### 目的
Google Antigravity + Gemini 3 Pro を活用し、**IPA標準準拠のAI駆動型システム開発プロセス**を構築する。

### 背景：Antigravity + Gemini 3 Pro とは

**Google Antigravity**（2025年11月発表）
- VS CodeフォークのAI IDE（Windsurfを24億ドルで買収し開発）
- 「エージェントファースト」アーキテクチャ
- Agent Managerで複数エージェントの並列実行
- ブラウザ統合（Chrome拡張）による自動テスト・スクリーンショット
- 200万トークンコンテキスト（Cursorの10倍）

**Gemini 3 Pro**（2025年11月発表）
- Googleの最新フラッグシップLLM
- 200万トークンコンテキスト
- 高度なFunction Calling、Tool Use
- エージェント構築に最適化

**Antigravityのカスタマイズ体系**
```
~/.gemini/GEMINI.md          # グローバルルール（全プロジェクト共通）
.agent/rules/*.md            # プロジェクト固有の常時適用ルール
.agent/workflows/*.md        # 手動トリガーワークフロー（/コマンドで呼び出し）
```

**重要な制約**
- Antigravityのworkflowsは `/コマンド` で**手動トリガー**が必要
- Claude Codeのような「自動委譲」機能は**まだない**（2025年12月時点）
- → GEMINI.mdで「提案型オーケストレーション」を実装し、疑似的な自動化を実現

---

## 🎯 構築するもの

### 提案型オーケストレーションによるSDLC支援システム

```
ユーザー: 「ECサイトの在庫管理機能を作りたい」
    ↓
Gemini 3 Pro（GEMINI.mdのルールでフェーズ認識）
    ↓
Gemini: 「在庫管理機能の開発ですね。
         📍 現在位置：【企画フェーズ】
         → /planning を実行しますか？」
    ↓
ユーザー: 「お願いします」
    ↓
/planning ワークフロー実行 → 成果物生成
    ↓
Gemini: 「✅ 企画フェーズ完了
         📍 次のフェーズ：【要件定義フェーズ】
         → /requirements を実行しますか？」
    ↓
... 各フェーズを提案→承認→実行 のサイクルで進行 ...
```

---

## 📁 生成するファイル構造

```
project-root/
│
├── .agent/
│   ├── rules/
│   │   └── GEMINI.md                 # プロジェクトオーケストレータールール
│   │
│   └── workflows/                    # ワークフロー定義（/コマンドで呼び出し）
│       ├── 01-planning.md            # /planning - 企画
│       ├── 02-requirements.md        # /requirements - 要件定義
│       ├── 03-basic-design.md        # /basic-design - 基本設計
│       ├── 04-detailed-design.md     # /detailed-design - 詳細設計
│       ├── 05-implementation.md      # /implementation - 製造
│       ├── 06-testing.md             # /testing - 試験
│       ├── 07-release.md             # /release - リリース
│       ├── 08-maintenance.md         # /maintenance - 保守運用
│       │
│       ├── review.md                 # /review - レビュー実施
│       ├── quality-check.md          # /quality-check - 品質チェック
│       ├── traceability.md           # /traceability - トレーサビリティ確認
│       └── status.md                 # /status - プロジェクト状況確認
│
├── docs/                             # IPA標準準拠ドキュメント出力先
│   ├── 00_プロジェクト管理/
│   │   ├── PM001_プロジェクト計画書.md
│   │   ├── PM002_WBS.md
│   │   ├── PM003_進捗管理表.md
│   │   ├── PM004_課題管理表.md
│   │   ├── PM005_リスク管理表.md
│   │   └── PM006_変更管理表.md
│   │
│   ├── 01_企画/
│   │   ├── PL001_システム化構想書.md
│   │   ├── PL002_システム化計画書.md
│   │   ├── PL003_費用対効果分析書.md
│   │   ├── PL004_プロジェクト体制図.md
│   │   └── index.md
│   │
│   ├── 02_要件定義/
│   │   ├── RD001_要件定義書/
│   │   │   ├── RD001-01_業務要件.md
│   │   │   ├── RD001-02_機能要件.md
│   │   │   └── RD001-03_非機能要件.md
│   │   ├── RD002_業務フロー図.md
│   │   ├── RD003_ユースケース一覧.md
│   │   ├── RD004_画面一覧.md
│   │   ├── RD005_帳票一覧.md
│   │   ├── RD006_外部インターフェース一覧.md
│   │   ├── RD007_データ項目一覧.md
│   │   └── index.md
│   │
│   ├── 03_基本設計/
│   │   ├── BD001_基本設計書/
│   │   │   ├── BD001-01_システム構成図.md
│   │   │   ├── BD001-02_ネットワーク構成図.md
│   │   │   ├── BD001-03_ソフトウェア構成図.md
│   │   │   └── BD001-04_ハードウェア構成図.md
│   │   ├── BD002_機能設計書/
│   │   │   ├── BD002-01_機能一覧.md
│   │   │   ├── BD002-02_機能階層図.md
│   │   │   └── BD002-03_機能仕様書/
│   │   ├── BD003_画面設計書/
│   │   │   ├── BD003-01_画面遷移図.md
│   │   │   ├── BD003-02_画面レイアウト/
│   │   │   └── BD003-03_画面項目定義書/
│   │   ├── BD004_帳票設計書.md
│   │   ├── BD005_外部インターフェース設計書.md
│   │   ├── BD006_データベース論理設計書/
│   │   │   ├── BD006-01_ER図.md
│   │   │   ├── BD006-02_テーブル一覧.md
│   │   │   └── BD006-03_テーブル定義書/
│   │   ├── BD007_バッチ設計書.md
│   │   └── index.md
│   │
│   ├── 04_詳細設計/
│   │   ├── DD001_詳細設計書/
│   │   │   ├── DD001-01_クラス設計書/
│   │   │   ├── DD001-02_シーケンス図/
│   │   │   └── DD001-03_状態遷移図/
│   │   ├── DD002_データベース物理設計書/
│   │   │   ├── DD002-01_物理テーブル定義書/
│   │   │   ├── DD002-02_インデックス設計書.md
│   │   │   └── DD002-03_パーティション設計書.md
│   │   ├── DD003_API設計書/
│   │   │   ├── DD003-01_API一覧.md
│   │   │   └── DD003-02_API仕様書/
│   │   ├── DD004_単体テスト仕様書.md
│   │   └── index.md
│   │
│   ├── 05_製造/
│   │   ├── IM001_コーディング規約.md
│   │   ├── IM002_ソースコード管理規約.md
│   │   ├── IM003_単体テスト結果報告書.md
│   │   ├── IM004_コードレビュー記録.md
│   │   └── index.md
│   │
│   ├── 06_試験/
│   │   ├── TS001_テスト計画書/
│   │   │   ├── TS001-01_テスト方針.md
│   │   │   ├── TS001-02_テスト環境定義書.md
│   │   │   ├── TS001-03_テストスケジュール.md
│   │   │   └── TS001-04_テスト体制図.md
│   │   ├── TS002_結合テスト仕様書/
│   │   │   ├── TS002-01_テストシナリオ/
│   │   │   └── TS002-02_テストケース/
│   │   ├── TS003_システムテスト仕様書/
│   │   │   ├── TS003-01_機能テストケース/
│   │   │   ├── TS003-02_性能テストケース/
│   │   │   ├── TS003-03_セキュリティテストケース/
│   │   │   └── TS003-04_障害テストケース/
│   │   ├── TS004_受入テスト仕様書.md
│   │   ├── TS005_テスト結果報告書/
│   │   ├── TS006_障害管理表.md
│   │   └── index.md
│   │
│   ├── 07_リリース/
│   │   ├── RL001_リリース計画書.md
│   │   ├── RL002_移行計画書/
│   │   │   ├── RL002-01_システム移行計画.md
│   │   │   ├── RL002-02_データ移行計画.md
│   │   │   └── RL002-03_業務移行計画.md
│   │   ├── RL003_移行手順書.md
│   │   ├── RL004_切り戻し手順書.md
│   │   ├── RL005_利用者教育計画書.md
│   │   ├── RL006_リリースノート.md
│   │   └── index.md
│   │
│   ├── 08_保守運用/
│   │   ├── MT001_運用設計書/
│   │   │   ├── MT001-01_運用体制図.md
│   │   │   ├── MT001-02_運用スケジュール.md
│   │   │   └── MT001-03_SLA定義書.md
│   │   ├── MT002_運用手順書/
│   │   │   ├── MT002-01_日次運用手順.md
│   │   │   ├── MT002-02_月次運用手順.md
│   │   │   └── MT002-03_年次運用手順.md
│   │   ├── MT003_監視設計書.md
│   │   ├── MT004_障害対応手順書.md
│   │   ├── MT005_保守計画書.md
│   │   ├── MT006_変更管理手順書.md
│   │   └── index.md
│   │
│   └── 99_付録/
│       ├── AP001_用語集.md
│       ├── AP002_略語一覧.md
│       └── AP003_参考文献.md
│
└── templates/                        # ドキュメントテンプレート
    ├── 企画/
    ├── 要件定義/
    ├── 設計/
    ├── 試験/
    └── リリース/
```

---

## 📜 準拠規格

### IPA 共通フレーム2013（SLCP-JCF2013）

プロセス体系：
```
テクニカルプロセス
├── 2.1 企画プロセス
│   ├── システム化構想の立案
│   └── システム化計画の立案
├── 2.2 要件定義プロセス
│   ├── 利害関係者要件の定義
│   └── システム要件の定義
├── 2.3 システム開発プロセス
│   ├── 2.3.1 システム方式設計（基本設計）
│   ├── 2.3.2 ソフトウェア要件定義
│   ├── 2.3.3 ソフトウェア方式設計
│   ├── 2.3.4 ソフトウェア詳細設計
│   ├── 2.3.5 ソフトウェア構築（製造）
│   ├── 2.3.6 ソフトウェア結合テスト
│   └── 2.3.7 システム結合テスト
├── 2.4 ソフトウェア実装プロセス
├── 2.5 システム適格性確認テスト（総合テスト）
├── 2.6 導入・受入れ支援プロセス（リリース）
└── 2.7 運用・サービス提供プロセス（保守運用）
```

### IPA 非機能要求グレード

6つの大項目：
1. 可用性
2. 性能・拡張性
3. 運用・保守性
4. 移行性
5. セキュリティ
6. システム環境・エコロジー

---

## 📝 各ファイルの詳細仕様

### 1. GEMINI.md（プロジェクトオーケストレータールール）

**配置先**: `.agent/rules/GEMINI.md`

```markdown
# システム開発AIオーケストレーター

あなたは**IPA共通フレーム2013に準拠したシステム開発プロジェクトのAIファシリテーター**です。
ユーザーとの会話を通じて、現在のフェーズを認識し、最適なワークフローを**提案**してください。

---

## 基本動作原則

### 1. フェーズ認識
会話の内容から現在の開発フェーズを推定し、常に**フェーズを意識した応答**を行う。

### 2. 提案型オーケストレーション
**ワークフローを提案し、ユーザーの承認を得てから実行**する。
勝手に実行せず、必ず「→ /xxx を実行しますか？」と確認する。

### 3. 成果物駆動
各フェーズで**IPA標準に準拠した成果物**を `/docs/` 配下に生成する。

### 4. 品質ゲート
フェーズ完了時には**完了条件を確認**し、次フェーズへの移行を支援する。

---

## フェーズ定義とトリガー

| フェーズ | トリガーワード | 提案するワークフロー |
|---------|--------------|-------------------|
| 企画 | 新規、作りたい、構想、予算、ROI | `/planning` |
| 要件定義 | 機能、要件、ユースケース、〜できる | `/requirements` |
| 基本設計 | アーキテクチャ、構成、設計、インフラ | `/basic-design` |
| 詳細設計 | クラス、API、DB設計、実装方法 | `/detailed-design` |
| 製造 | 実装、コーディング、開発、コード | `/implementation` |
| 試験 | テスト、検証、バグ、品質 | `/testing` |
| リリース | デプロイ、本番、移行、公開 | `/release` |
| 保守運用 | 運用、監視、障害、保守 | `/maintenance` |

---

## 応答フォーマット

### フェーズ認識時
```
[ユーザーの要求への応答]

📍 現在位置：【{フェーズ名}フェーズ】

{フェーズの説明}

→ /{workflow} を実行しますか？

【生成される成果物】
- {成果物1}
- {成果物2}
```

### フェーズ完了時
```
✅ 【{フェーズ名}フェーズ】が完了しました。

【生成した成果物】
- /docs/{フェーズ}/{成果物1}
- /docs/{フェーズ}/{成果物2}

📍 次のフェーズ：【{次フェーズ名}フェーズ】

→ /{次workflow} を実行しますか？
```

---

## 特殊コマンド

| コマンド | 説明 |
|---------|------|
| /status | プロジェクト状況確認 |
| /review | 成果物レビュー実施 |
| /quality-check | 品質メトリクス計測 |
| /traceability | 要件トレーサビリティ確認 |

---

## 成果物保存規則

- 出力先: `/docs/{番号}_{フェーズ名}/`
- ファイル命名: `{プレフィックス}{連番}_{ドキュメント名}.md`
- 例: `RD001-02_機能要件.md`
```

---

### 2. 01-planning.md（企画ワークフロー）

**配置先**: `.agent/workflows/01-planning.md`
**呼び出し**: `/planning`

```markdown
---
description: 企画フェーズ - システム化構想・計画の立案（IPA共通フレーム2013 2.1企画プロセス準拠）
---

# 企画フェーズワークフロー

## 概要
IPA共通フレーム2013「2.1 企画プロセス」に準拠し、
システム化構想の立案からシステム化計画の策定までを実施します。

## 入力情報の収集

以下の情報をユーザーから収集してください：

### 1. 事業背景
- 現状の課題は何ですか？
- システム化の目的は何ですか？
- 期待する効果は何ですか？

### 2. スコープ
- 対象となる業務範囲は？
- 対象ユーザーは誰ですか？
- 既存システムとの関連は？

### 3. 制約条件
- 予算の目安はありますか？
- 希望する稼働時期はいつですか？
- 技術的な制約はありますか？

---

## 生成する成果物

### PL001_システム化構想書.md
**出力先**: `/docs/01_企画/PL001_システム化構想書.md`

1. 背景と目的
   - 事業環境の変化
   - 現状の課題（課題一覧表）
   - システム化の目的
2. システム化の方向性
   - 対象業務の範囲
   - 基本方針
   - 期待される効果（定量・定性）
3. 実現可能性評価
   - 技術的実現可能性
   - 運用面の実現可能性
   - 組織的実現可能性
4. 概算スケジュール
5. 概算費用

### PL002_システム化計画書.md
**出力先**: `/docs/01_企画/PL002_システム化計画書.md`

1. プロジェクト概要
2. スコープ定義
3. 開発方針
4. 体制計画
5. スケジュール計画（WBS）
6. 予算計画
7. リスク管理計画
8. コミュニケーション計画

### PL003_費用対効果分析書.md
**出力先**: `/docs/01_企画/PL003_費用対効果分析書.md`

- ROI計算
- 回収期間
- NPV（正味現在価値）
- 感度分析

### PL004_プロジェクト体制図.md
**出力先**: `/docs/01_企画/PL004_プロジェクト体制図.md`

- 体制図
- RACI表
- エスカレーションルート

---

## 完了条件

- [ ] 全成果物が `/docs/01_企画/` に出力された
- [ ] ステークホルダー承認の確認

## 次フェーズ

完了後、次のように提案してください：
```
✅ 【企画フェーズ】が完了しました。

📍 次のフェーズ：【要件定義フェーズ】
→ /requirements を実行しますか？
```
```

---

### 3. 02-requirements.md（要件定義ワークフロー）

**配置先**: `.agent/workflows/02-requirements.md`
**呼び出し**: `/requirements`

```markdown
---
description: 要件定義フェーズ - 業務要件・機能要件・非機能要件の定義（IPA共通フレーム2013 2.2要件定義プロセス準拠）
---

# 要件定義フェーズワークフロー

## 概要
IPA共通フレーム2013「2.2 要件定義プロセス」に準拠。

## 入力確認
`/docs/01_企画/` の成果物を読み込み、スコープを確認してください。

---

## 生成する成果物

### RD001_要件定義書/

#### RD001-01_業務要件.md
**出力先**: `/docs/02_要件定義/RD001_要件定義書/RD001-01_業務要件.md`

- 業務概要
- 現行業務フロー（As-Is）
- 課題と改善点
- 新業務フロー（To-Be）
- 業務要件一覧

#### RD001-02_機能要件.md
**出力先**: `/docs/02_要件定義/RD001_要件定義書/RD001-02_機能要件.md`

- 機能要件一覧（ID, 名称, 概要, 優先度）
- 機能要件詳細（機能ごと）
  - 入力情報
  - 処理内容
  - 出力情報
  - ビジネスルール
- MoSCoW優先度分類（Must/Should/Could/Won't）

#### RD001-03_非機能要件.md（IPA非機能要求グレード準拠）
**出力先**: `/docs/02_要件定義/RD001_要件定義書/RD001-03_非機能要件.md`

- 可用性（稼働率、RTO/RPO）
- 性能・拡張性（応答時間、同時接続数）
- 運用・保守性（バックアップ、監視）
- 移行性
- セキュリティ（認証、暗号化、監査ログ）
- システム環境

### RD002_業務フロー図.md
- BPMN形式のフロー図（Mermaid記法）
- アクター定義

### RD003_ユースケース一覧.md
- ユースケース図（Mermaid記法）
- ユースケース詳細（基本フロー、代替フロー、例外フロー）

### RD004_画面一覧.md
| 画面ID | 画面名 | 種別 | 関連機能 | 備考 |

### RD005_帳票一覧.md
| 帳票ID | 帳票名 | 出力形式 | タイミング | 関連機能 |

### RD006_外部インターフェース一覧.md
| IF-ID | IF名 | 連携先 | 方式 | データ形式 | タイミング |

### RD007_データ項目一覧.md
| エンティティ | 項目名 | データ型 | 桁数 | 必須 | 備考 |

---

## 完了条件

- [ ] 全成果物が `/docs/02_要件定義/` に出力された
- [ ] 要件のベースライン化

## 次フェーズ

→ /basic-design を実行しますか？
```

---

### 4. 03-basic-design.md（基本設計ワークフロー）

**配置先**: `.agent/workflows/03-basic-design.md`
**呼び出し**: `/basic-design`

```markdown
---
description: 基本設計フェーズ - システム方式設計（IPA共通フレーム2013 2.3.1準拠）
---

# 基本設計フェーズワークフロー

## 概要
IPA共通フレーム2013「2.3.1 システム方式設計」に準拠。

## 入力確認
`/docs/02_要件定義/` の成果物を読み込んでください。

---

## 生成する成果物

### BD001_基本設計書/
- BD001-01_システム構成図.md（全体構成、技術スタック）
- BD001-02_ネットワーク構成図.md
- BD001-03_ソフトウェア構成図.md
- BD001-04_ハードウェア構成図.md

### BD002_機能設計書/
- BD002-01_機能一覧.md
- BD002-02_機能階層図.md
- BD002-03_機能仕様書/（機能ごと）

### BD003_画面設計書/
- BD003-01_画面遷移図.md
- BD003-02_画面レイアウト/（画面ごと）
- BD003-03_画面項目定義書/（画面ごと）

### BD004_帳票設計書.md

### BD005_外部インターフェース設計書.md

### BD006_データベース論理設計書/
- BD006-01_ER図.md（Mermaid記法）
- BD006-02_テーブル一覧.md
- BD006-03_テーブル定義書/（テーブルごと）

### BD007_バッチ設計書.md

---

## 完了条件

- [ ] アーキテクチャレビュー完了

## 次フェーズ

→ /detailed-design を実行しますか？
```

---

### 5. 04-detailed-design.md（詳細設計ワークフロー）

**配置先**: `.agent/workflows/04-detailed-design.md`
**呼び出し**: `/detailed-design`

```markdown
---
description: 詳細設計フェーズ - ソフトウェア詳細設計（IPA共通フレーム2013 2.3.4準拠）
---

# 詳細設計フェーズワークフロー

## 概要
IPA共通フレーム2013「2.3.4 ソフトウェア詳細設計」に準拠。

## 入力確認
`/docs/03_基本設計/` の成果物を読み込んでください。

---

## 生成する成果物

### DD001_詳細設計書/
- DD001-01_クラス設計書/（クラスごと）
- DD001-02_シーケンス図/（処理ごと、Mermaid記法）
- DD001-03_状態遷移図/

### DD002_データベース物理設計書/
- DD002-01_物理テーブル定義書/（DDL含む）
- DD002-02_インデックス設計書.md
- DD002-03_パーティション設計書.md

### DD003_API設計書/
- DD003-01_API一覧.md
- DD003-02_API仕様書/（OpenAPI 3.0形式、YAML）

### DD004_単体テスト仕様書.md

---

## 完了条件

- [ ] 設計レビュー完了

## 次フェーズ

→ /implementation を実行しますか？
```

---

### 6. 05-implementation.md（製造ワークフロー）

**配置先**: `.agent/workflows/05-implementation.md`
**呼び出し**: `/implementation`

```markdown
---
description: 製造フェーズ - ソフトウェア実装（IPA共通フレーム2013 2.4準拠）
---

# 製造フェーズワークフロー

## 概要
IPA共通フレーム2013「2.4 ソフトウェア実装プロセス」に準拠。

## 入力確認
`/docs/04_詳細設計/` の成果物を読み込んでください。

---

## 実施タスク

1. 詳細設計書に基づくコード実装
2. コーディング規約の適用
3. 単体テストの作成・実行
4. コードレビューの実施

## 生成する成果物

### IM001_コーディング規約.md
### IM002_ソースコード管理規約.md
### IM003_単体テスト結果報告書.md
### IM004_コードレビュー記録.md

**出力先**: `/docs/05_製造/`

---

## 品質基準

- 単体テストカバレッジ: 80%以上
- 静的解析: 重大警告ゼロ
- コードレビュー: 全コード対象

## 次フェーズ

→ /testing を実行しますか？
```

---

### 7. 06-testing.md（試験ワークフロー）

**配置先**: `.agent/workflows/06-testing.md`
**呼び出し**: `/testing`

```markdown
---
description: 試験フェーズ - システム適格性確認テスト（IPA共通フレーム2013 2.5準拠）
---

# 試験フェーズワークフロー

## 概要
IPA共通フレーム2013「2.5 システム適格性確認テスト」に準拠。

## 入力確認
`/docs/05_製造/` の成果物を読み込んでください。

---

## 生成する成果物

### TS001_テスト計画書/
- TS001-01_テスト方針.md
- TS001-02_テスト環境定義書.md
- TS001-03_テストスケジュール.md
- TS001-04_テスト体制図.md

### TS002_結合テスト仕様書/
- TS002-01_テストシナリオ/（シナリオごと）
- TS002-02_テストケース/（ケースごと）

### TS003_システムテスト仕様書/
- TS003-01_機能テストケース/
- TS003-02_性能テストケース/
- TS003-03_セキュリティテストケース/
- TS003-04_障害テストケース/

### TS004_受入テスト仕様書.md

### TS005_テスト結果報告書/
- 消化率、合格率、バグ密度、品質評価

### TS006_障害管理表.md
| 障害ID | 検出日 | 重要度 | 概要 | 原因 | 対策 | 状態 |

**出力先**: `/docs/06_試験/`

---

## 完了条件

- [ ] 全テスト項目消化
- [ ] 重大バグゼロ
- [ ] 受入テスト合格

## 次フェーズ

→ /release を実行しますか？
```

---

### 8. 07-release.md（リリースワークフロー）

**配置先**: `.agent/workflows/07-release.md`
**呼び出し**: `/release`

```markdown
---
description: リリースフェーズ - 導入・受入れ支援（IPA共通フレーム2013 2.6準拠）
---

# リリースフェーズワークフロー

## 概要
IPA共通フレーム2013「2.6 導入・受入れ支援プロセス」に準拠。

## 入力確認
`/docs/06_試験/` の成果物を読み込んでください。

---

## 生成する成果物

### RL001_リリース計画書.md

### RL002_移行計画書/
- RL002-01_システム移行計画.md
- RL002-02_データ移行計画.md
- RL002-03_業務移行計画.md

### RL003_移行手順書.md

### RL004_切り戻し手順書.md

### RL005_利用者教育計画書.md

### RL006_リリースノート.md

**出力先**: `/docs/07_リリース/`

---

## 完了条件

- [ ] 本番環境デプロイ完了
- [ ] 切り戻し手順確認済み
- [ ] 利用者教育完了

## 次フェーズ

→ /maintenance を実行しますか？
```

---

### 9. 08-maintenance.md（保守運用ワークフロー）

**配置先**: `.agent/workflows/08-maintenance.md`
**呼び出し**: `/maintenance`

```markdown
---
description: 保守運用フェーズ - 運用・サービス提供（IPA共通フレーム2013 2.7準拠）
---

# 保守運用フェーズワークフロー

## 概要
IPA共通フレーム2013「2.7 運用・サービス提供プロセス」に準拠。

## 入力確認
`/docs/07_リリース/` の成果物を読み込んでください。

---

## 生成する成果物

### MT001_運用設計書/
- MT001-01_運用体制図.md
- MT001-02_運用スケジュール.md
- MT001-03_SLA定義書.md

### MT002_運用手順書/
- MT002-01_日次運用手順.md
- MT002-02_月次運用手順.md
- MT002-03_年次運用手順.md

### MT003_監視設計書.md

### MT004_障害対応手順書.md

### MT005_保守計画書.md

### MT006_変更管理手順書.md

**出力先**: `/docs/08_保守運用/`

---

## 継続的な運用

- SLA達成状況のモニタリング
- 定期保守の実施
- 改善サイクルの運用
```

---

### 10. 補助ワークフロー

#### review.md
**配置先**: `.agent/workflows/review.md`
**呼び出し**: `/review`

```markdown
---
description: 成果物のレビューを実施
---

# レビューワークフロー

## チェック観点
- 完全性（必要項目が網羅されているか）
- 一貫性（矛盾がないか）
- 追跡可能性（要件とのトレース）
- 記述品質（曖昧な表現がないか）

## 使用方法
`/review /docs/02_要件定義/RD001-02_機能要件.md`
```

#### quality-check.md
**配置先**: `.agent/workflows/quality-check.md`
**呼び出し**: `/quality-check`

```markdown
---
description: 品質メトリクスを計測
---

# 品質チェックワークフロー

## 計測項目
- 要件カバレッジ率 = 設計でカバーされた要件数 / 全要件数
- 設計カバレッジ率 = 実装された設計項目数 / 全設計項目数
- テストカバレッジ率 = テストされた要件数 / 全要件数
- バグ密度 = 検出バグ数 / KLOC
```

#### traceability.md
**配置先**: `.agent/workflows/traceability.md`
**呼び出し**: `/traceability`

```markdown
---
description: 要件トレーサビリティを確認
---

# トレーサビリティワークフロー

## トレーサビリティマトリクス生成

| 要件ID | 設計ID | 実装ID | テストID | 状態 |
|--------|--------|--------|----------|------|
```

#### status.md
**配置先**: `.agent/workflows/status.md`
**呼び出し**: `/status`

```markdown
---
description: プロジェクト状況を確認
---

# ステータス確認ワークフロー

## 確認項目
1. 現在のフェーズ
2. 完了した成果物一覧
3. 未完了の成果物
4. 次のアクション提案

## 出力フォーマット
```
📊 プロジェクトステータス

📍 現在のフェーズ: {フェーズ名}

✅ 完了した成果物:
- {成果物1}
- {成果物2}

⏳ 未完了:
- {成果物3}

📌 次のアクション:
→ /{workflow} を実行してください
```
```

---

## 🚀 実装手順

### Step 1: ディレクトリ構造の作成
```bash
mkdir -p .agent/rules
mkdir -p .agent/workflows
mkdir -p docs/{00_プロジェクト管理,01_企画,02_要件定義,03_基本設計,04_詳細設計,05_製造,06_試験,07_リリース,08_保守運用,99_付録}
mkdir -p templates/{企画,要件定義,設計,試験,リリース}
```

### Step 2: GEMINI.md の作成
`.agent/rules/GEMINI.md` に配置。フェーズ認識と提案ロジックを記述。

### Step 3: ワークフローの作成
`.agent/workflows/` に各フェーズのワークフローを配置。

### Step 4: 動作確認
Antigravityで以下を試す：
- 「ECサイトの在庫管理機能を作りたい」→ 企画フェーズが提案されるか
- `/planning` → 企画成果物が生成されるか
- `/status` → プロジェクト状況が表示されるか

---

## ✅ 成功基準

1. **提案型オーケストレーションが機能する**: ユーザーの発言に応じて適切なワークフローが提案される
2. **IPA標準準拠**: 生成される成果物が共通フレーム2013の体系に従う
3. **トレーサビリティ**: 要件から試験まで追跡可能
4. **品質ゲート**: 各フェーズ完了時に完了条件を確認

---

## 📚 参考資料

- IPA 共通フレーム2013: https://www.ipa.go.jp/sec/publish/tn12-006.html
- IPA 非機能要求グレード: https://www.ipa.go.jp/sec/softwareengineering/std/ent03-b.html
- ISO/IEC 12207:2008
- Google Antigravity: https://idx.google.com/ （Project IDX → Antigravity）

---

**この指示書に基づいて、Antigravity + Gemini 3 Pro 環境で全ファイルを生成してください。**