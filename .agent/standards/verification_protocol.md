# エンタープライズ検証プロトコル: "Trust but Verify" (信頼せよ、されど検証せよ)

## 1. 核心原則 (Core Principles)
Antigravityによるエンタープライズ開発では、**「動いた」という自己申告**は信頼しません。
すべての成果物は、客観的かつ視覚的な**「証拠 (Evidence)」**と共に提出されなければなりません。

## 2. 検証要件 (Verification Requirements)

### 2.1 フロントエンド / UI変更
*   **必須証拠**: `browser_subagent` による操作録画（動画アーティファクト）。
*   **合格基準**:
    *   指定されたシナリオ（ログイン、遷移、入力）がエラーなく完走していること。
    *   レイアウト崩れ、テキストの誤字が動画視認で確認できないこと。
*   **禁止事項**: 静的なスクリーンショットのみでの報告（アニメーションや遷移が見えないため）。

### 2.2 バックエンド / API変更
*   **必須証拠**: `run_command` によるテスト実行ログ（終了コード 0）。
*   **合格基準**:
    *   単体テストおよび結合テストがすべて合格 (Pass) していること。
    *   カバレッジレポート（あれば）が基準を満たしていること。

### 2.3 インフラ / IaC変更
*   **必須証拠**: `terraform plan` または `cdk diff` の出力ログ。
*   **合格基準**:
    *   意図しない破壊的変更（Destroy）が含まれていないこと。
    *   セキュリティスキャン（tfsec等）で高リスク (High) がないこと。

## 3. レビュープロセス (Review Process)

1.  **提出 (Submission)**: エージェントは実装完了後、必ず検証タスクを実行し、証拠アーティファクトへのリンクを含むプルリクエスト（または完了報告）を作成する。
2.  **ゲートチェック (Gate Check)**: CI/CDパイプライン（またはGatekeeperエージェント）が、必須証拠が添付されているかを自動チェックする。
3.  **人間による承認 (Human Approval)**: ユーザー（人間）は、コードのDiffを見る前に、まず**動画とログ**を確認する。証拠が不十分な場合、コードを見ずに却下する権利を持つ。

---
> [!IMPORTANT]
> **"No Evidence, No Merge." (証拠なきコードはマージせず)**
> 証拠のないコードは、存在しないも同然である。
