# サンプル: ユーザー管理サブシステム

このディレクトリは、詳細設計書の実成果物がどのように配置されるかを示すサンプルです。

## 📁 このディレクトリの構成

```
00_サンプル_ユーザー管理/
├── README.md                                              # 本ファイル
├── DD001-01_クラス設計書_認証モジュール_sample.md        # クラス設計（認証）
├── DD001-01_クラス設計書_ユーザーリポジトリ_sample.md    # クラス設計（リポジトリ）
├── DD001-02_シーケンス図_ログインフロー_sample.md        # シーケンス図
├── DD002_データベース物理設計書_ユーザーテーブル_sample.md
├── DD003_API設計書_ユーザー管理API_sample.md
└── DD004_単体テスト仕様書_UserService_sample.md
```

## 🎯 実プロジェクトでの適用例

### Step 1: サブシステムディレクトリの作成

```bash
cd ".agent/templates/04_詳細設計/実成果物"
mkdir "01_ユーザー管理"
```

### Step 2: テンプレートからコピー

```bash
# クラス設計書を作成
cp "../../DD001-01_クラス設計書_template.md" \
   "01_ユーザー管理/DD001-01_クラス設計書_認証モジュール.md"

# 単体テスト仕様書を作成
cp "../../DD004_単体テスト仕様書_template.md" \
   "01_ユーザー管理/DD004_単体テスト仕様書_UserService.md"
```

### Step 3: プレースホルダを置換

エディタで以下を一括置換：

```
{プロジェクト名} → Antigravity
{サブシステム名} → ユーザー管理
{モジュール名} → 認証モジュール / UserService
{作成者名} → 山田太郎
{YYYY/MM/DD} → 2025-12-15
```

---

## 📝 実際の運用フロー

### 1. 基本設計完了後

```mermaid
graph LR
    A[基本設計完了] --> B[詳細設計開始]
    B --> C[サブシステム分割]
    C --> D[担当者アサイン]
    D --> E[詳細設計書作成]
```

### 2. 詳細設計書作成

各担当者が並行して作業：

| 担当者 | サブシステム | 成果物 |
|--------|------------|--------|
| 山田 | ユーザー管理 | DD001-01, DD004 |
| 鈴木 | 注文管理 | DD001-01, DD004 |
| 佐藤 | 決済管理 | DD001-01, DD004 |

### 3. レビュー・承認

```
作成 → セルフレビュー → ピアレビュー → 承認
```

---

## 🔍 このサンプルの使い方

### サンプルファイルの確認

各 `*_sample.md` ファイルには、テンプレートのプレースホルダが具体的な値で置換された例が記載されています。

実際にプロジェクトで作成する際の参考にしてください。

### 実ファイル作成時の注意点

1. **`_sample.md` は削除して構いません**
   - 実プロジェクトでは不要です

2. **ファイル名から `_sample` を除く**
   - `DD001-01_クラス設計書_認証モジュール.md` （sampleなし）

3. **内容を実プロジェクトに合わせて記載**
   - サンプルは参考程度に、実際の設計内容を記載してください

---

## ✅ 品質チェック

### 文書間の整合性確認

- [ ] DD001（クラス設計）と DD004（単体テスト）で対象クラスが一致
- [ ] DD002（DB設計）と DD001（クラス設計）でエンティティが一致
- [ ] DD003（API設計）と DD001（クラス設計）でコントローラーが一致

### カバレッジ確認

- [ ] すべての公開メソッドに対応するテストケースが存在
- [ ] DD004 で目標カバレッジ（80%以上）が設定されている

---

## 📚 参考資料

- [DD000_詳細設計総括.md](../../DD000_詳細設計総括.md)
- [実成果物/README.md](../README.md)
