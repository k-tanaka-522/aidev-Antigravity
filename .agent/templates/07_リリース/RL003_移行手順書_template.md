# 移行手順書

## ドキュメント情報

| 項目 | 内容 |
|------|------|
| ドキュメントID | RL003-{YYYYMMDD} |
| プロジェクト名 | {プロジェクト名} |
| 作成日 | {YYYY/MM/DD} |
| 作成者 | {作成者名} |
| 版数 | {1.0} |

## 変更履歴

| 版数 | 日付 | 変更者 | 変更内容 |
|------|------|--------|----------|
| 1.0 | {YYYY/MM/DD} | {変更者名} | 新規作成 |

---

## 移行手順

### 事前準備

| No | 作業項目 | 作業内容 | 担当者 | 完了 |
|----|----------|----------|--------|------|
| 1 | {バックアップ取得} | {DBバックアップ} | {氏名} | {□} |
| 2 | {リソース準備} | {サーバー・ネットワーク確認} | {氏名} | {□} |

### 移行作業

| No | 作業項目 | 作業内容 | コマンド | 所要時間 | 担当者 | 完了 |
|----|----------|----------|----------|----------|--------|------|
| 1 | システム停止 | サービス停止 | `systemctl stop app` | 1分 | {氏名} | {□} |
| 2 | データバックアップ | DBダンプ取得 | `pg_dump > backup.sql` | 10分 | {氏名} | {□} |
| 3 | マイグレーション実行 | DBスキーマ更新 | `alembic upgrade head` | 5分 | {氏名} | {□} |
| 4 | アプリデプロイ | 新バージョンデプロイ | `kubectl apply -f deploy.yaml` | 3分 | {氏名} | {□} |
| 5 | 動作確認 | ヘルスチェック | `curl /health` | 2分 | {氏名} | {□} |
| 6 | システム再開 | サービス起動 | `systemctl start app` | 1分 | {氏名} | {□} |

### 事後確認

| No | 確認項目 | 確認内容 | 担当者 | 完了 |
|----|----------|----------|--------|------|
| 1 | {動作確認} | {主要機能が正常動作} | {氏名} | {□} |
| 2 | {ログ確認} | {エラーログなし} | {氏名} | {□} |

---

## チェックリスト

- [ ] バックアップ取得完了
- [ ] 移行作業完了
- [ ] 動作確認完了
- [ ] ログ確認完了
- [ ] 関係者への連絡完了

---

## 承認記録

| 役割 | 氏名 | 承認日 | 署名 |
|------|------|--------|------|
| {作業者} | {氏名} | {YYYY/MM/DD} | {署名} |
| {確認者} | {氏名} | {YYYY/MM/DD} | {署名} |
