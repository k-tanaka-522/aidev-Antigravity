# ユースケース定義書

## ドキュメント情報

| 項目 | 内容 |
|------|------|
| ドキュメントID | RD003 |
| ドキュメント名 | ユースケース定義書 |
| プロジェクト名 | {プロジェクト名} |
| バージョン | {バージョン} |
| ステータス | 作成中/レビュー中/承認済み |
| 作成日 | {YYYY-MM-DD} |
| 作成者 | {作成者名} |
| 最終更新日 | {YYYY-MM-DD} |
| 最終更新者 | {更新者名} |
| 承認者 | {承認者名} |
| 承認日 | {YYYY-MM-DD} |

## 変更履歴

| バージョン | 日付 | 変更者 | 変更内容 |
|-----------|------|--------|----------|
| 0.1 | {YYYY-MM-DD} | {変更者名} | 初版作成 |
| | | | |

---

## 1. 概要

### 1.1 目的

{ユースケース定義書の目的を記述}

### 1.2 対象システム

{対象となるシステムの範囲を記述}

### 1.3 参照ドキュメント

| ドキュメント名 | ドキュメントID | バージョン |
|---------------|---------------|-----------|
| 業務要件定義書 | RD001-01 | {バージョン} |
| 機能要件定義書 | RD001-02 | {バージョン} |
| 業務フロー図 | RD002 | {バージョン} |

---

## 2. アクター定義

### 2.1 アクター一覧

| アクターID | アクター名 | 種別 | 役割 | 備考 |
|-----------|-----------|------|------|------|
| A-001 | {アクター名1} | 主要/副次/外部システム | {役割の説明} | {備考} |
| A-002 | {アクター名2} | 主要/副次/外部システム | {役割の説明} | {備考} |
| A-003 | {アクター名3} | 主要/副次/外部システム | {役割の説明} | {備考} |
| | | | | |

### 2.2 アクター詳細

#### 2.2.1 {アクター名1} (A-001)

| 項目 | 内容 |
|------|------|
| アクターID | A-001 |
| アクター名 | {アクター名} |
| 種別 | 主要/副次/外部システム |
| 説明 | {アクターの詳細説明} |
| 権限レベル | {管理者/一般ユーザー/その他} |
| スキルレベル | {初心者/中級者/上級者} |
| 利用頻度 | {日常的/週次/月次/不定期} |

---

## 3. ユースケース図

### 3.1 システム全体ユースケース図

```mermaid
graph LR
    Actor1((アクター1)) --> UC1[UC-001: {ユースケース名1}]
    Actor1 --> UC2[UC-002: {ユースケース名2}]
    Actor2((アクター2)) --> UC3[UC-003: {ユースケース名3}]
    Actor2 --> UC2
    UC1 -.include.-> UC4[UC-004: {共通ユースケース}]
    UC2 -.extend.-> UC5[UC-005: {拡張ユースケース}]
```

### 3.2 サブシステム別ユースケース図

#### 3.2.1 {サブシステム名1}

```mermaid
graph LR
    Actor((アクター)) --> UC1[UC-001: {ユースケース名1}]
    Actor --> UC2[UC-002: {ユースケース名2}]
    UC1 -.include.-> UC3[UC-003: {共通処理}]
```

---

## 4. ユースケース一覧

### 4.1 ユースケース概要一覧

| UC-ID | ユースケース名 | 主アクター | 概要 | 優先度 | 関連機能 | 備考 |
|-------|--------------|-----------|------|--------|---------|------|
| UC-001 | {ユースケース名1} | {A-xxx} | {概要} | Must/Should/Could/Won't | {F-xxx} | {備考} |
| UC-002 | {ユースケース名2} | {A-xxx} | {概要} | Must/Should/Could/Won't | {F-xxx} | {備考} |
| UC-003 | {ユースケース名3} | {A-xxx} | {概要} | Must/Should/Could/Won't | {F-xxx} | {備考} |
| | | | | | | |

---

## 5. ユースケース詳細

### 5.1 {ユースケース名1} (UC-001)

#### 5.1.1 基本情報

| 項目 | 内容 |
|------|------|
| ユースケースID | UC-001 |
| ユースケース名 | {ユースケース名} |
| 主アクター | {A-xxx: アクター名} |
| 副アクター | {A-yyy: アクター名} / なし |
| 概要 | {ユースケースの概要説明} |
| トリガー | {ユースケース開始のトリガー} |
| 事前条件 | {ユースケース開始前に満たすべき条件} |
| 事後条件 (成功時) | {ユースケース成功時の状態} |
| 事後条件 (失敗時) | {ユースケース失敗時の状態} |
| 優先度 | Must/Should/Could/Won't |
| 頻度 | {日次x回/週次x回/月次x回/不定期} |
| 関連機能 | {F-xxx, F-yyy} |
| 関連業務プロセス | {BP-xxx} |

#### 5.1.2 基本フロー

| ステップ | アクター操作 | システム応答 |
|---------|-------------|-------------|
| 1 | {アクターが行う操作} | - |
| 2 | - | {システムの応答・処理} |
| 3 | {アクターが行う操作} | - |
| 4 | - | {システムの応答・処理} |
| 5 | - | {ユースケース終了} |

**基本フロー図:**

```mermaid
sequenceDiagram
    participant Actor as アクター
    participant System as システム

    Actor->>System: 1. {操作内容}
    System->>System: 2. {処理内容}
    System-->>Actor: 3. {応答内容}
    Actor->>System: 4. {操作内容}
    System->>System: 5. {処理内容}
    System-->>Actor: 6. {完了通知}
```

#### 5.1.3 代替フロー

##### 代替フロー A: {代替シナリオ名}

| 項目 | 内容 |
|------|------|
| 分岐条件 | {基本フローから分岐する条件} |
| 分岐元ステップ | {ステップ番号} |
| 復帰先ステップ | {ステップ番号} / 終了 |

| ステップ | アクター操作 | システム応答 |
|---------|-------------|-------------|
| A1 | {アクターが行う操作} | - |
| A2 | - | {システムの応答・処理} |
| A3 | - | {基本フローに復帰 or 終了} |

##### 代替フロー B: {代替シナリオ名}

| 項目 | 内容 |
|------|------|
| 分岐条件 | {基本フローから分岐する条件} |
| 分岐元ステップ | {ステップ番号} |
| 復帰先ステップ | {ステップ番号} / 終了 |

| ステップ | アクター操作 | システム応答 |
|---------|-------------|-------------|
| B1 | {アクターが行う操作} | - |
| B2 | - | {システムの応答・処理} |

#### 5.1.4 例外フロー

##### 例外フロー E1: {例外シナリオ名}

| 項目 | 内容 |
|------|------|
| 例外条件 | {例外が発生する条件} |
| 発生ステップ | {ステップ番号} |
| 深刻度 | 高/中/低 |

| ステップ | アクター操作 | システム応答 |
|---------|-------------|-------------|
| E1 | - | {エラー検出} |
| E2 | - | {エラーメッセージ表示: "xxx"} |
| E3 | {リトライ/キャンセル/その他} | - |
| E4 | - | {例外処理完了 or エスカレーション} |

##### 例外フロー E2: {例外シナリオ名}

| 項目 | 内容 |
|------|------|
| 例外条件 | {例外が発生する条件} |
| 発生ステップ | {ステップ番号} |
| 深刻度 | 高/中/低 |

| ステップ | アクター操作 | システム応答 |
|---------|-------------|-------------|
| E1 | - | {例外処理内容} |

#### 5.1.5 ビジネスルール

| ルールID | ルール名 | ルール内容 | 適用ステップ |
|---------|---------|-----------|-------------|
| BL-{xxx} | {ルール名} | {ルールの詳細} | {ステップ番号} |
| | | | |

#### 5.1.6 非機能要件

| 要件分類 | 要件内容 |
|---------|---------|
| 性能 | {応答時間: x秒以内、処理件数: y件/時間} |
| セキュリティ | {認証レベル、権限チェック、監査ログ} |
| 可用性 | {利用可能時間帯、ダウンタイム許容} |
| UI/UX | {操作性、アクセシビリティ要件} |

#### 5.1.7 画面・帳票

| 種別 | ID | 名称 | 使用ステップ | 備考 |
|------|-----|------|-------------|------|
| 画面 | SC-{xxx} | {画面名} | {ステップ番号} | {備考} |
| 帳票 | RP-{xxx} | {帳票名} | {ステップ番号} | {備考} |

#### 5.1.8 データ

| 操作 | データ名 | エンティティ | 使用ステップ | 備考 |
|------|---------|-------------|-------------|------|
| 参照 | {データ項目名} | {エンティティ名} | {ステップ番号} | {備考} |
| 作成 | {データ項目名} | {エンティティ名} | {ステップ番号} | {備考} |
| 更新 | {データ項目名} | {エンティティ名} | {ステップ番号} | {備考} |
| 削除 | {データ項目名} | {エンティティ名} | {ステップ番号} | {備考} |

#### 5.1.9 外部連携

| 連携先 | IF-ID | 連携内容 | 使用ステップ | タイミング |
|--------|-------|----------|-------------|------------|
| {外部システム名} | IF-{xxx} | {連携内容} | {ステップ番号} | {同期/非同期} |
| | | | | |

#### 5.1.10 テストシナリオ

| シナリオID | テスト種別 | テスト内容 | 期待結果 |
|-----------|-----------|-----------|----------|
| TS-001 | 正常系 | {基本フローのテスト} | {期待される結果} |
| TS-002 | 準正常系 | {代替フローAのテスト} | {期待される結果} |
| TS-003 | 異常系 | {例外フローE1のテスト} | {期待される結果} |
| | | | |

---

### 5.2 {ユースケース名2} (UC-002)

#### 5.2.1 基本情報

| 項目 | 内容 |
|------|------|
| ユースケースID | UC-002 |
| ユースケース名 | {ユースケース名} |
| 主アクター | {A-xxx: アクター名} |
| 副アクター | {A-yyy: アクター名} / なし |
| 概要 | {ユースケースの概要説明} |
| トリガー | {ユースケース開始のトリガー} |
| 事前条件 | {ユースケース開始前に満たすべき条件} |
| 事後条件 (成功時) | {ユースケース成功時の状態} |
| 事後条件 (失敗時) | {ユースケース失敗時の状態} |
| 優先度 | Must/Should/Could/Won't |

#### 5.2.2 基本フロー

| ステップ | アクター操作 | システム応答 |
|---------|-------------|-------------|
| 1 | {アクターが行う操作} | - |
| 2 | - | {システムの応答・処理} |
| 3 | - | {ユースケース終了} |

---

## 6. ユースケース関連

### 6.1 include関係

| 元UC-ID | include先UC-ID | include内容 | 備考 |
|---------|---------------|------------|------|
| UC-{xxx} | UC-{yyy} | {共通処理の内容} | {備考} |
| | | | |

### 6.2 extend関係

| 基本UC-ID | extend UC-ID | 拡張条件 | 拡張内容 |
|-----------|-------------|---------|---------|
| UC-{xxx} | UC-{yyy} | {拡張される条件} | {拡張処理の内容} |
| | | | |

### 6.3 汎化関係

| 汎化元UC-ID | 汎化先UC-ID | 汎化内容 | 備考 |
|-----------|-------------|---------|------|
| UC-{xxx} | UC-{yyy} | {汎化の内容} | {備考} |
| | | | |

---

## 7. ユースケース実現マトリクス

### 7.1 要件トレーサビリティ

| UC-ID | ユースケース名 | 業務要件ID | 機能要件ID | 画面ID | 帳票ID |
|-------|--------------|-----------|-----------|--------|--------|
| UC-001 | {ユースケース名} | BR-{xxx} | F-{xxx} | SC-{xxx} | RP-{xxx} |
| UC-002 | {ユースケース名} | BR-{yyy} | F-{yyy} | SC-{yyy} | - |
| | | | | | |

---

## 8. 優先度別ユースケース

### 8.1 Must (必須)

| UC-ID | ユースケース名 | 理由 |
|-------|--------------|------|
| UC-{xxx} | {ユースケース名} | {必須である理由} |
| | | |

### 8.2 Should (重要)

| UC-ID | ユースケース名 | 理由 |
|-------|--------------|------|
| UC-{xxx} | {ユースケース名} | {重要である理由} |
| | | |

### 8.3 Could (可能であれば)

| UC-ID | ユースケース名 | 理由 |
|-------|--------------|------|
| UC-{xxx} | {ユースケース名} | {あれば望ましい理由} |
| | | |

---

## 9. 用語集

| 用語 | 定義 | 備考 |
|------|------|------|
| ユースケース | アクターとシステムの相互作用を記述したもの | - |
| アクター | システムと相互作用する外部エンティティ | 人間、外部システムなど |
| include | 共通処理を別ユースケースとして切り出す関係 | 必ず実行される |
| extend | 特定条件下で拡張処理を追加する関係 | 条件付きで実行される |
| {用語} | {定義} | {備考} |

---

## 10. 添付資料

| 資料名 | ファイル名 | 説明 |
|--------|-----------|------|
| {資料名} | {ファイル名} | {資料の説明} |
| | | |

---

## 承認

| 役割 | 氏名 | 承認日 | 署名 |
|------|------|--------|------|
| 業務部門責任者 | {氏名} | {YYYY-MM-DD} | |
| システム部門責任者 | {氏名} | {YYYY-MM-DD} | |
| プロジェクトマネージャー | {氏名} | {YYYY-MM-DD} | |

---

**文書の終わり**
