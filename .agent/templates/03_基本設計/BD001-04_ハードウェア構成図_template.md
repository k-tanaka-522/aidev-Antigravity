# ハードウェア構成図

## ドキュメント情報

| 項目 | 内容 |
|------|------|
| ドキュメントID | BD001-04 |
| ドキュメント名 | ハードウェア構成図 |
| システム名 | {システム名} |
| サブシステム名 | {サブシステム名} |
| 版数 | {版数} |
| ステータス | {作成中/レビュー中/承認済み} |
| 作成日 | {YYYY/MM/DD} |
| 作成者 | {作成者名} |
| 承認日 | {YYYY/MM/DD} |
| 承認者 | {承認者名} |

## 変更履歴

| 版数 | 変更日 | 変更者 | 変更内容 | 承認者 |
|------|--------|--------|----------|--------|
| 1.0 | {YYYY/MM/DD} | {変更者名} | 新規作成 | {承認者名} |
| {版数} | {YYYY/MM/DD} | {変更者名} | {変更内容} | {承認者名} |

## 目次

1. [概要](#概要)
2. [ハードウェア全体構成](#ハードウェア全体構成)
3. [サーバー構成](#サーバー構成)
4. [ストレージ構成](#ストレージ構成)
5. [ネットワーク機器](#ネットワーク機器)
6. [クラウドリソース構成](#クラウドリソース構成)

---

## 概要

### 目的

{このハードウェア構成図の目的を記述}

### 適用範囲

{このハードウェア構成図が適用される範囲を記述}

### インフラストラクチャ種別

{オンプレミス/クラウド/ハイブリッド}

---

## ハードウェア全体構成

### 物理構成図（オンプレミス環境の場合）

```mermaid
graph TB
    subgraph "データセンター: {データセンター名}"
        subgraph "ラック1"
            FW1[ファイアウォール1<br/>{型番}]
            SW1[L3スイッチ1<br/>{型番}]
            WEB1[Webサーバー1<br/>{型番}]
            WEB2[Webサーバー2<br/>{型番}]
        end

        subgraph "ラック2"
            FW2[ファイアウォール2<br/>{型番}]
            SW2[L3スイッチ2<br/>{型番}]
            APP1[APサーバー1<br/>{型番}]
            APP2[APサーバー2<br/>{型番}]
        end

        subgraph "ラック3"
            SW3[L2スイッチ1<br/>{型番}]
            DB1[DBサーバー1<br/>{型番}]
            DB2[DBサーバー2<br/>{型番}]
            STORAGE[ストレージ<br/>{型番}]
        end

        subgraph "電源系統"
            UPS1[UPS1<br/>{型番}]
            UPS2[UPS2<br/>{型番}]
        end
    end

    FW1 --> SW1
    FW2 --> SW2
    SW1 --> WEB1
    SW1 --> WEB2
    SW2 --> APP1
    SW2 --> APP2
    SW1 --> SW3
    SW2 --> SW3
    SW3 --> DB1
    SW3 --> DB2
    DB1 --> STORAGE
    DB2 --> STORAGE

    UPS1 -.電源供給.- FW1
    UPS1 -.電源供給.- SW1
    UPS2 -.電源供給.- FW2
    UPS2 -.電源供給.- SW2
```

### クラウド構成図（クラウド環境の場合）

```mermaid
graph TB
    subgraph "クラウド: {AWS/GCP/Azure}"
        subgraph "リージョン: {リージョン名}"
            subgraph "AZ-1"
                WEB1[EC2/VM インスタンス<br/>Webサーバー1<br/>{インスタンスタイプ}]
                APP1[EC2/VM インスタンス<br/>APサーバー1<br/>{インスタンスタイプ}]
                NAT1[NATゲートウェイ1]
            end

            subgraph "AZ-2"
                WEB2[EC2/VM インスタンス<br/>Webサーバー2<br/>{インスタンスタイプ}]
                APP2[EC2/VM インスタンス<br/>APサーバー2<br/>{インスタンスタイプ}]
                NAT2[NATゲートウェイ2]
            end

            LB[ロードバランサ<br/>{ALB/NLB/ELB}]
            RDS[RDS/CloudSQL<br/>{インスタンスタイプ}<br/>Multi-AZ]
            ELASTICACHE[ElastiCache/Memorystore<br/>{ノードタイプ}]
            S3[S3/Cloud Storage/Blob<br/>容量: {容量}]
        end

        CDN[CloudFront/Cloud CDN<br/>グローバル配信]
    end

    CDN --> LB
    LB --> WEB1
    LB --> WEB2
    WEB1 --> APP1
    WEB2 --> APP2
    APP1 --> RDS
    APP2 --> RDS
    APP1 --> ELASTICACHE
    APP2 --> ELASTICACHE
    APP1 --> S3
    APP2 --> S3
```

---

## サーバー構成

### サーバー一覧（オンプレミス環境）

| サーバー名 | 役割 | 型番/メーカー | CPU | メモリ | ディスク | OS | 台数 | ラック | 備考 |
|------------|------|---------------|-----|--------|----------|-------|------|--------|------|
| {サーバー名} | {役割} | {型番} | {スペック} | {容量} | {容量/構成} | {OS名/バージョン} | {台数} | {ラック番号} | {備考} |
| web-srv-01 | Webサーバー | Dell PowerEdge R750 | Intel Xeon Gold 6338 x2<br/>32コア/64スレッド | 128GB DDR4 | SSD 960GB x2 (RAID1) | Ubuntu Server 22.04 LTS | 2 | Rack-1 | 冗長構成 |
| app-srv-01 | APサーバー | HPE ProLiant DL380 Gen10 | Intel Xeon Gold 6248R x2<br/>48コア/96スレッド | 256GB DDR4 | SSD 1.92TB x2 (RAID1) | RHEL 9.2 | 2 | Rack-2 | 冗長構成 |
| db-srv-01 | DBサーバー | Dell PowerEdge R840 | Intel Xeon Platinum 8280 x4<br/>112コア/224スレッド | 768GB DDR4 | SSD 3.84TB x4 (RAID10) | Ubuntu Server 22.04 LTS | 2 | Rack-3 | Primary/Standby |
| batch-srv-01 | バッチサーバー | Dell PowerEdge R650 | Intel Xeon Gold 6336Y x2<br/>48コア/96スレッド | 128GB DDR4 | SSD 1.92TB x2 (RAID1) | Ubuntu Server 22.04 LTS | 1 | Rack-2 | |

### クラウドインスタンス一覧（クラウド環境）

| インスタンス名 | 役割 | インスタンスタイプ | vCPU | メモリ | ストレージ | OS | 台数 | AZ | 備考 |
|----------------|------|--------------------|------|--------|------------|-----|------|-----|------|
| {インスタンス名} | {役割} | {タイプ} | {数} | {容量} | {容量/タイプ} | {OS名/バージョン} | {台数} | {AZ} | {備考} |
| web-instance-01 | Webサーバー | t3.large | 2 | 8GB | EBS gp3 100GB | Amazon Linux 2023 | 2 | ap-northeast-1a | オートスケーリング |
| web-instance-02 | Webサーバー | t3.large | 2 | 8GB | EBS gp3 100GB | Amazon Linux 2023 | 2 | ap-northeast-1c | オートスケーリング |
| app-instance-01 | APサーバー | c6i.2xlarge | 8 | 16GB | EBS gp3 200GB | Amazon Linux 2023 | 2-10 | ap-northeast-1a | オートスケーリング |
| app-instance-02 | APサーバー | c6i.2xlarge | 8 | 16GB | EBS gp3 200GB | Amazon Linux 2023 | 2-10 | ap-northeast-1c | オートスケーリング |
| db-instance-01 | DBサーバー | db.r6i.2xlarge | 8 | 64GB | EBS io2 500GB | RDS PostgreSQL 16 | 1 | Multi-AZ | Primary |
| cache-cluster | キャッシュ | cache.r6g.large | 2 | 13.07GB | - | Redis 7.0 | 3 | ap-northeast-1a/c | クラスターモード |

### サーバースペック詳細

#### Webサーバー

| 項目 | 仕様 |
|------|------|
| CPU | {CPU仕様} |
| メモリ | {容量} |
| ディスク | {容量/構成} |
| NIC | {速度/冗長化} |
| RAID構成 | {RAID1/RAID5/RAID10} |
| HBA/RAIDコントローラー | {型番} |
| 電源 | {冗長構成/容量} |
| 想定同時接続数 | {数値} |
| 想定スループット | {リクエスト数/秒} |

#### APサーバー

| 項目 | 仕様 |
|------|------|
| CPU | {CPU仕様} |
| メモリ | {容量} |
| ディスク | {容量/構成} |
| NIC | {速度/冗長化} |
| RAID構成 | {RAID1/RAID5/RAID10} |
| HBA/RAIDコントローラー | {型番} |
| 電源 | {冗長構成/容量} |
| 想定同時処理数 | {数値} |
| 想定スループット | {トランザクション数/秒} |

#### DBサーバー

| 項目 | 仕様 |
|------|------|
| CPU | {CPU仕様} |
| メモリ | {容量} |
| ディスク | {容量/構成} |
| NIC | {速度/冗長化} |
| RAID構成 | {RAID1/RAID5/RAID10} |
| HBA/RAIDコントローラー | {型番} |
| 電源 | {冗長構成/容量} |
| 想定データ量（初期） | {容量} |
| 想定データ量（3年後） | {容量} |
| 想定IOPS | {数値} |

---

## ストレージ構成

### ストレージ構成図

```mermaid
graph TB
    subgraph "ストレージシステム"
        SAN[SANストレージ<br/>{型番}<br/>総容量: {容量}]

        subgraph "RAID構成"
            RAID1[RAID1グループ<br/>OS領域<br/>960GB x2]
            RAID10[RAID10グループ<br/>データ領域<br/>3.84TB x4]
            RAID5[RAID5グループ<br/>バックアップ領域<br/>7.68TB x4]
        end
    end

    DB1[DBサーバー1] -.FC/iSCSI.- SAN
    DB2[DBサーバー2] -.FC/iSCSI.- SAN

    SAN --> RAID1
    SAN --> RAID10
    SAN --> RAID5
```

### ストレージ一覧

| ストレージ名 | 種別 | 型番/メーカー | 総容量 | 実効容量 | 接続方式 | RAID構成 | 用途 | 備考 |
|--------------|------|---------------|--------|----------|----------|----------|------|------|
| {ストレージ名} | {SAN/NAS/DAS} | {型番} | {容量} | {容量} | {FC/iSCSI/NFS} | {RAID構成} | {用途} | {備考} |
| san-storage-01 | SAN | NetApp FAS9000 | 100TB | 80TB | FC 16Gbps | RAID-DP | データベース | 重複排除有効 |
| nas-storage-01 | NAS | QNAP TS-h1290FX | 50TB | 40TB | NFS/SMB | RAID6 | ファイル共有 | |
| object-storage | オブジェクト | AWS S3 | 無制限 | - | HTTPS | - | 静的ファイル/バックアップ | Standard/Glacier |

### ボリューム構成

| ボリューム名 | マウント先 | 容量 | ファイルシステム | 用途 | バックアップ | 備考 |
|--------------|------------|------|------------------|------|--------------|------|
| {ボリューム名} | {マウントポイント} | {容量} | {ext4/xfs/NTFS} | {用途} | {有/無} | {備考} |
| /dev/sda1 | / | 100GB | ext4 | OSルート | 有（日次） | |
| /dev/sdb1 | /var/log | 200GB | ext4 | ログ | 有（週次） | |
| /dev/sdc1 | /var/lib/postgresql | 1TB | xfs | PostgreSQLデータ | 有（日次） | |
| /dev/sdd1 | /backup | 2TB | ext4 | バックアップ | 無 | |

---

## ネットワーク機器

### ネットワーク機器一覧

| 機器名 | 種別 | 型番/メーカー | ポート数 | スループット | 台数 | 設置場所 | 用途 | 備考 |
|--------|------|---------------|----------|--------------|------|----------|------|------|
| {機器名} | {種別} | {型番} | {ポート数} | {スループット} | {台数} | {ラック番号} | {用途} | {備考} |
| firewall-01 | ファイアウォール | Fortinet FortiGate 600E | 24 | 10Gbps | 2 | Rack-1 | 境界防御 | HA構成 |
| l3-switch-01 | L3スイッチ | Cisco Catalyst 9300 | 48 | 1Gbps | 2 | Rack-1,2 | VLAN間ルーティング | スタック構成 |
| l2-switch-01 | L2スイッチ | Cisco Catalyst 9200 | 48 | 1Gbps | 3 | Rack-1,2,3 | サーバー接続 | |
| load-balancer-01 | ロードバランサ | F5 BIG-IP i5800 | 8 | 40Gbps | 2 | Rack-1 | 負荷分散 | Active-Active |

### ネットワーク機器スペック

#### ファイアウォール

| 項目 | 仕様 |
|------|------|
| 型番 | {型番} |
| スループット（ファイアウォール） | {Gbps} |
| スループット（IPS有効時） | {Gbps} |
| 最大同時セッション数 | {数値} |
| 新規セッション数/秒 | {数値} |
| VPN接続数 | {数値} |
| 冗長化方式 | {Active-Active/Active-Standby} |
| インターフェース | {ポート構成} |

#### ロードバランサ

| 項目 | 仕様 |
|------|------|
| 型番 | {型番} |
| L4スループット | {Gbps} |
| L7スループット | {Gbps} |
| 最大同時接続数 | {数値} |
| SSL TPS | {トランザクション数/秒} |
| 冗長化方式 | {Active-Active/Active-Standby} |
| ヘルスチェック方式 | {HTTP/HTTPS/TCP} |
| 負荷分散アルゴリズム | {Round Robin/Least Connection/IP Hash} |

---

## クラウドリソース構成

### コンピューティングリソース

| リソースタイプ | サービス名 | 用途 | インスタンス数 | スペック | 備考 |
|----------------|------------|------|----------------|----------|------|
| {リソースタイプ} | {AWS/GCP/Azure サービス名} | {用途} | {数} | {スペック} | {備考} |
| 仮想マシン | EC2 | Webサーバー | 2-10（オートスケーリング） | t3.large | |
| 仮想マシン | EC2 | APサーバー | 2-20（オートスケーリング） | c6i.2xlarge | |
| コンテナ | ECS Fargate | マイクロサービス | 動的 | 0.5vCPU, 1GB | |
| サーバーレス | Lambda | イベント処理 | - | 1024MB | |

### データベース・ストレージリソース

| リソースタイプ | サービス名 | 用途 | 容量/スペック | 備考 |
|----------------|------------|------|---------------|------|
| {リソースタイプ} | {サービス名} | {用途} | {容量/スペック} | {備考} |
| RDB | RDS PostgreSQL | メインDB | db.r6i.2xlarge, 500GB | Multi-AZ |
| NoSQL | DynamoDB | セッション管理 | オンデマンド | |
| キャッシュ | ElastiCache Redis | キャッシュ層 | cache.r6g.large x3 | クラスターモード |
| オブジェクトストレージ | S3 | 静的ファイル/バックアップ | 無制限 | Standard/Glacier |
| ブロックストレージ | EBS | サーバーディスク | gp3/io2 | |
| ファイルストレージ | EFS | 共有ファイル | 汎用モード | |

### ネットワークリソース

| リソースタイプ | サービス名 | 用途 | スペック | 備考 |
|----------------|------------|------|----------|------|
| {リソースタイプ} | {サービス名} | {用途} | {スペック} | {備考} |
| ロードバランサ | ALB | HTTP/HTTPSルーティング | - | クロスゾーン有効 |
| CDN | CloudFront | コンテンツ配信 | グローバルエッジ | |
| DNS | Route 53 | DNSサービス | - | フェイルオーバー設定 |
| VPN | Site-to-Site VPN | オンプレミス接続 | - | 冗長構成 |
| 専用線 | Direct Connect | 専用線接続 | 1Gbps | |

### リソース使用量予測

| リソース | 現状 | 1年後 | 3年後 | スケーリング方針 |
|----------|------|--------|--------|------------------|
| EC2インスタンス数 | {数値} | {数値} | {数値} | {方針} |
| RDSストレージ | {容量} | {容量} | {容量} | {方針} |
| S3ストレージ | {容量} | {容量} | {容量} | {方針} |
| データ転送量/月 | {容量} | {容量} | {容量} | {方針} |

---

## 承認

| 役割 | 氏名 | 承認日 | 署名 |
|------|------|--------|------|
| 作成者 | {作成者名} | {YYYY/MM/DD} | |
| レビュー担当者 | {レビュー担当者名} | {YYYY/MM/DD} | |
| 承認者 | {承認者名} | {YYYY/MM/DD} | |

---

## 参照

### 関連ドキュメント

- [システム構成図] BD001-01_システム構成図
- [ネットワーク構成図] BD001-02_ネットワーク構成図
- [ソフトウェア構成図] BD001-03_ソフトウェア構成図
- [非機能要件定義書] {ドキュメントパス}

### 外部参照

- {参照先タイトル}: {URL}
